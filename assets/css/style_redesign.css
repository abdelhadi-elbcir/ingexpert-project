/* =========================
   style_redesign.css (NEW) - CORRECTED
   - Desktop dropdowns overlay properly (NOT inline)
   - Mobile menu toggle works (.is-open)
   - Mobile submenus collapse/expand (.open via JS)
========================= */

:root {
  /* Color Palette */
  --primary-blue: #5A696B;
  --accent-yellow: #EEC942;
  --accent-green: #93C241;
  --accent-pink: #87B4C3;

  --text-dark: #0b1220;
  --text-light: #222;
  --bg-white: #FFFFFF;
  --bg-light-gray: #F9F9F9;

  /* Spacing */
  --spacing-sm: 0.5rem;
  /* 8px */
  --spacing-md: 1rem;
  /* 16px */
  --spacing-lg: 2rem;
  /* 32px */
  --spacing-xl: 4rem;
  /* 64px */

  /* Typography */
  --font-main: 'Nunito', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  --font-heading: 'Nunito', 'Segoe UI', sans-serif;

  --radius: 12px;
  --shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-main);
  color: var(--text-dark);
  background-color: var(--bg-white);
  line-height: 1.6;
  font-size: 16px;
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

a {
  color: var(--primary-blue);
  text-decoration: none;
  transition: color 0.2s ease;
}

a:hover {
  color: var(--accent-pink);
}

/* Layout Utilities */
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--spacing-md);
}

.section-activities {
  padding: 0 0;
  background-color: var(--bg-white);
  padding: 0 var(--spacing-lg);
}

/* .section {
  padding: var(--spacing-xl) 0;
} */

.grid {
  display: grid;
  gap: var(--spacing-lg);
}

.grid-2 {
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
}

.grid-3 {
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
}

.grid-4 {
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
}

.text-center {
  text-align: center;
}

/* Small helpers */

.section-pubs{
  background: var(--bg-white);
  padding: var(--spacing-lg) 0;
}

.soft-hr {
  margin: 1rem 0;
  border: 0;
  border-top: 1px solid #eee;
}

.shadow-image {
  margin: 0 auto;
}

.link-more {
  display: inline-block;
  margin-top: 1rem;
  color: var(--accent-pink);
  font-weight: 800;
}

.button {
  display: inline-block;
  background: var(--primary-blue);
  color: white;
  padding: 10px 20px;
  border-radius: 10px;
  font-weight: 800;
}

/* =========================
   Header & Navigation
========================= */
.site-header {
  background: var(--bg-white);
  padding: var(--spacing-md) 0;
  position: sticky;
  top: 0;
  z-index: 1000;
  border-bottom: 2px solid var(--primary-blue);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);

  transition: transform 0.25s ease;
  will-change: transform;
}

.site-header.is-hidden {
  transform: translateY(-110%);
}

.nav-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: relative;
  /* required for mobile dropdown absolute nav */
  gap: var(--spacing-md);
}

.site-logo {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

/* TOP LEVEL MENU ONLY */
.main-nav>ul {
  list-style: none;
  display: flex;
  gap: var(--spacing-md);
  align-items: center;
}

/* Links */
.main-nav a {
  font-weight: 800;
  color: var(--text-dark);
  text-transform: uppercase;
  font-size: 0.9rem;
  letter-spacing: 0.2px;
  padding: 10px 12px;
  border-radius: 10px;
  display: inline-flex;
  align-items: center;
  white-space: nowrap;
}

.main-nav a:hover {
  color: var(--primary-blue);
  background: rgba(0, 0, 0, 0.03);
}

/* section-training */
.section-training {
  padding: var(--spacing-lg) 0;
} 

/* hamburger */
.menu-toggle {
  display: none;
  border: 0;
  background: transparent;
  font-size: 1.7rem;
  cursor: pointer;
  padding: 6px 10px;
  border-radius: 10px;
}

.menu-toggle:hover {
  background: rgba(0, 0, 0, 0.05);
}

/* ===== Dropdown submenu (desktop) ===== */
.main-nav li {
  position: relative;
}

/* IMPORTANT: submenu is a normal vertical list, overlays the page */
.main-nav .submenu {
  list-style: none;
  margin: 0;
  padding: 8px;

  position: absolute;
  top: 100%;
  left: 0;

  min-width: 260px;
  background: #fff;
  border: 1px solid #e9edf3;
  border-radius: 14px;
  box-shadow: 0 10px 30px rgba(15, 23, 42, .10);

  display: none;
  /* hidden by default */
  z-index: 2000;
}

/* Only apply scrolling to first-level submenus (direct children of main nav) */
.main-nav>ul>li>.submenu {
  max-height: 85vh;
  overflow-y: auto;
}

/* Nested submenus should NOT have overflow restrictions */
.main-nav .submenu .submenu {
  max-height: none;
  overflow: visible;
}

.main-nav .submenu li {
  display: block;
  width: 100%;
}

.main-nav .submenu a {
  display: block;
  width: 100%;
  padding: 10px 12px;
  border-radius: 10px;

  /* dropdown text style */
  text-transform: none;
  font-weight: 700;
  letter-spacing: 0;
  color: var(--text-dark);
}

.main-nav .submenu a:hover {
  background: #f3f6fb;
  color: var(--text-dark);
}

/* show submenu on hover desktop - using width-based media query for reliability */
@media (min-width: 769px) {
  .main-nav .has-submenu:hover>.submenu {
    display: block;
  }
}

/* second level submenu (flyout) */
.main-nav .submenu .submenu {
  top: 0;
  left: 100%;
  margin-left: 4px;
}

/* Fix for right-side menu items - prevent flyouts from going off-screen */
@media (min-width: 769px) {

  /* Target the last 2 top-level menu items (Théorie, Contact) */
  .main-nav>ul>li:nth-last-child(-n+2) .submenu .submenu {
    left: auto;
    right: 100%;
    margin-left: 0;
    margin-right: 4px;
  }
}

/* =========================
   Hero
========================= */
.hero {
  background-color: var(--bg-light-gray);
  text-align: center;
  padding: var(--spacing-xl) 0;
}

.hero h1 {
  font-size: 2.5rem;
  color: var(--text-dark);
  line-height: 1.2;
}

.hero h1 span.highlight {
  color: var(--accent-pink);
}

.hero-subtitle {
  font-size: 1.1rem;
  color: var(--text-light);
  max-width: 820px;
  margin: 0 auto;
}

/* =========================
   Cards
========================= */
.card-section {
  padding-top: var(--spacing-md);
}

.card {
  background: var(--bg-white);
  padding: var(--spacing-lg);
  border-radius: var(--radius);
  border: 1px solid #eee;
  text-align: center;
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow);
  border-color: rgba(135, 180, 195, 0.7);
}

.card h3 {
  color: var(--primary-blue);
  margin: var(--spacing-md) 0 8px 0;
}

/* =========================
   Clients
========================= */
.clients-section {
  background-color: var(--bg-light-gray);
  padding: var(--spacing-lg) 0;
  overflow: hidden;
}

.clients-grid {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: var(--spacing-md);
}

.clients-grid img {
  opacity: 0.85;
  filter: grayscale(100%);
  transition: all 0.25s ease;
  border-radius: 10px;
}

.clients-grid img:hover {
  opacity: 1;
  filter: grayscale(0%);
}

/* =========================
   Clients slider (marquee)
========================= */
.clients-slider{
  position: relative;
  overflow: hidden;
  padding: 18px 0;
}

.clients-slider::before,
.clients-slider::after{
  content:"";
  position:absolute;
  top:0; bottom:0;
  width: 70px;
  pointer-events:none;
  z-index:2;
}

.clients-slider::before{
  left:0;
  background: linear-gradient(to right, var(--bg-light-gray), rgba(249,249,249,0));
}
.clients-slider::after{
  right:0;
  background: linear-gradient(to left, var(--bg-light-gray), rgba(249,249,249,0));
}

.clients-track{
  display:flex;
  align-items:center;
  gap: 48px;
  width: max-content;
  animation: clients-scroll 22s linear infinite;
  will-change: transform;
}

.clients-slider:hover .clients-track{
  animation-play-state: paused;
}

.client-logo{
  flex: 0 0 auto;
  display:flex;
  align-items:center;
  justify-content:center;
  height: 70px;          /* slider height */
  padding: 6px 10px;
}

.client-logo img{
  height: 70px;
  width: auto;
  max-width: 260px;
  object-fit: contain;
  /*filter: grayscale(100%);*/
  opacity: 0.9;
  transition: filter .2s ease, opacity .2s ease, transform .2s ease;
}

.client-logo img:hover{
  filter: grayscale(0%);
  opacity: 1;
  transform: translateY(-1px);
}

@keyframes clients-scroll{
  from { transform: translateX(0); }
  to   { transform: translateX(-50%); } /* because list is duplicated */
}

@media (max-width: 768px){
  .clients-track{ gap: 28px; animation-duration: 18s; }
  .client-logo, .client-logo img{ height: 54px; }
}


/* =========================
   Notre Accompagnement - UL Accordion
========================= */
.offer-accordion{
  display: grid;
  gap: var(--spacing-md);
  margin-top: var(--spacing-md);
}

.offer-item{
  background: var(--bg-white);
  border: 1px solid var(--text-dark);
  border-radius: var(--radius);
  box-shadow: 0 8px 18px rgba(0,0,0,.06);
  overflow: hidden;
}

.offer-summary{
  cursor: pointer;
  padding: 16px 18px;
  font-weight: 900;
  color: var(--text-dark);
  list-style: none;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.offer-summary::-webkit-details-marker{
  display: none;
}

.offer-summary::after{
  content: "▴";
  font-size: 1.5rem;
  color: var(--primary-dark);
  transition: transform .2s ease;
}

.offer-item[open] .offer-summary::after{
  transform: rotate(180deg);
}

.offer-list{
  list-style: none;
  padding: 0 18px 16px 18px;
  margin: 0;
}

.offer-list li{
  position: relative;
  padding-left: 16px;
  margin: 8px 0;
  font-weight: 600;
  color: var(--text-light);
}

.offer-list li::before{
  content: "•";
  position: absolute;
  left: 0;
  top: 0;
  color: var(--accent-pink);
  font-weight: 900;
}

.offer-list a{
  color: var(--primary-blue);
  text-decoration: none;
}

.offer-list a:hover{
  color: var(--primary-blue);
  text-decoration: underline;
}


/* =========================
   Sectors cards with background images
========================= */
.sectors-grid .sector-card{
  position: relative;
  overflow: hidden;
  text-align: left;
  min-height: 170px;

  /* image via CSS variable */
  background-image:
    linear-gradient(180deg, rgba(11,18,32,.20), rgba(11,18,32,.65)),
    var(--bg-image);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;

  border-color: rgba(255,255,255,.15);
}

.sectors-grid .sector-card h3,
.sectors-grid .sector-card p{
  position: relative;
  z-index: 2;
  color: var(--bg-white);
}

.sectors-grid .sector-card h3{
  margin-top: 0;
  font-weight: 900;
  letter-spacing: .2px;
}

.sectors-grid .sector-card p{
  color: rgba(255,255,255,.88);
  margin: 6px 0 0 0;
  font-weight: 700;
}

.sectors-grid .sector-card:hover{
  transform: translateY(-4px);
  box-shadow: var(--shadow);
  border-color: rgba(255,255,255,.30);
}


/* =========================
   Quality / Standards
========================= */
.quality-section{
  margin-top: var(--spacing-lg);
  margin-bottom: var(--spacing-lg);
  background: var(--bg-light-gray);
}

.quality-header{
  text-align: center;
  margin-bottom: var(--spacing-lg);
}

.quality-header h2{
  color: var(--primary-blue);
  margin-bottom: 10px;
}

.quality-lead{
  max-width: 860px;
  margin: 0 auto;
  color: var(--text-light);
  font-size: 1.05rem;
}

.quality-card{
  text-align: left;
}

.quality-card h3{
  margin-top: 0;
  color: var(--text-dark);
}

.badge-grid{
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 14px;
}

.badge{
  display: inline-flex;
  align-items: center;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(90, 105, 107, 0.18); /* primary-blue with opacity */
  background: rgba(135, 180, 195, 0.12);      /* accent-pink with opacity */
  font-weight: 800;
  font-size: 0.9rem;
  color: var(--text-dark);
}

.badge:hover{
  background: rgba(135, 180, 195, 0.18);
}

.quality-actions{
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 14px;
  margin-top: 16px;
}

.quality-note{
  margin-top: 14px;
  color: var(--text-light);
  font-size: 0.95rem;
}

/* =========================
   Mission standardisée
========================= */
.mission-section{
  background: var(--bg-white);
  padding: var(--spacing-lg) 0;
}

.mission-lead{
  max-width: 900px;
  margin: 0 auto;
  color: var(--text-light);
  font-size: 1.05rem;
}

.mission-card{
  text-align: left;
  position: relative;
  overflow: hidden;
}

.mission-step{
  width: 44px;
  height: 44px;
  border-radius: 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 900;
  background: rgba(135, 180, 195, 0.18);
  border: 1px solid rgba(90, 105, 107, 0.18);
  margin-bottom: 12px;
}

.mission-card h3{
  margin: 0 0 8px 0;
  color: var(--text-dark);
}

/* =========================
   Dialogue (Forum & Blog)
========================= */
.dialogue-section{
  background: var(--bg-light-gray);
}

.dialogue-lead{
  max-width: 800px;
  margin: 0 auto;
  color: var(--text-light);
  font-size: 1.05rem;
}

.dialogue-card{
  text-decoration: none;
  display: block;
}

.dialogue-icon{
  width: 54px;
  height: 54px;
  border-radius: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 1.4rem;
  background: rgba(147, 194, 65, 0.16); /* accent-green with opacity */
  border: 1px solid rgba(147, 194, 65, 0.22);
  margin-bottom: 12px;
}

.dialogue-card:hover .dialogue-icon{
  transform: translateY(-1px);
}


/* =========================
   Services list
========================= */
.services-list {
  list-style: none;
}

.service-item {
  border-bottom: 1px solid #eee;
  padding: var(--spacing-md) 0;
  text-align: left;
}

.service-item h4 {
  color: var(--accent-green);
  margin-bottom: var(--spacing-sm);
  font-weight: 900;
}

.service-content {
  padding-left: 2px;
}

.service-content a {
  display: block;
  margin-bottom: 8px;
  color: var(--text-light);
  font-weight: 600;
}

.service-content a:before {
  content: "•";
  color: var(--accent-pink);
  margin-right: 8px;
}

/* =========================
   Footer
========================= */
.site-footer {
  margin-top: var(--spacing-xl);
  background: #5A696B;
  color: rgba(255, 255, 255, 0.86);
}

.site-footer a {
  color: rgba(255, 255, 255, 0.9);
}

.site-footer a:hover {
  text-decoration: underline;
}

.footer-grid {
  padding: var(--spacing-xl) 0;
  padding-left: var(--spacing-sm);
  padding-right: var(--spacing-sm);
  display: grid;
  grid-template-columns: 1.2fr 1fr 1fr 1.2fr;
  gap: 28px;
}

/* Brand */
.footer-brand {
  display: inline-flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.footer-logo {
  height: 34px;
  width: auto;
}

.footer-brand-text {
  font-weight: 900;
  letter-spacing: 0.2px;
  font-size: 1.05rem;
}

.footer-title {
  font-size: 0.95rem;
  font-weight: 900;
  margin: 0 0 12px 0;
  color: white;
}

.footer-text {
  margin: 0;
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.75);
  max-width: 100%;
}

.footer-links,
.footer-meta {
  list-style: none;
  padding: 0;
  margin: 0;
}

.footer-links li,
.footer-meta li {
  margin: 10px 0;
}

.footer-label {
  display: inline-block;
  min-width: 92px;
  color: rgba(255, 255, 255, 0.6);
}

.footer-small {
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.65);
}

/* Badges */
.footer-badges {
  margin-top: 14px;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.footer-badge {
  display: inline-flex;
  align-items: center;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(255, 255, 255, 0.06);
  font-weight: 800;
  font-size: 0.9rem;
}

.footer-badge:hover {
  background: rgba(255, 255, 255, 0.1);
}

/* Form */
.footer-form {
  margin-top: 12px;
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px;
}

.footer-form input {
  width: 100%;
  min-width: 0;
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.18);
  background: rgba(255, 255, 255, 0.06);
  color: white;
  padding: 10px 12px;
  outline: none;
}

.footer-form input::placeholder {
  color: rgba(255, 255, 255, 0.55);
}

.footer-form button {
  border: 0;
  border-radius: 10px;
  padding: 10px 14px;
  font-weight: 900;
  cursor: pointer;
  background: var(--primary-blue);
  color: white;
}

.footer-form button:hover {
  filter: brightness(1.05);
}

/* Bottom bar */
.footer-bottom {
  border-top: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.15);
}

.footer-bottom-inner {
  padding: 14px 0;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
  flex-wrap: wrap;
}

.footer-bottom-inner p {
  margin: 0;
  color: rgba(255, 255, 255, 0.7);
}

.footer-bottom-links {
  display: flex;
  gap: 14px;
  flex-wrap: wrap;
}

.footer-bottom-links a {
  color: rgba(255, 255, 255, 0.7);
}

.footer-bottom-links a:hover {
  color: rgba(255, 255, 255, 0.95);
}

/* Accessibility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}

/* =========================
   Responsive
========================= */
@media (max-width: 980px) {
  .footer-grid {
    grid-template-columns: 1fr 1fr;
    padding-left: var(--spacing-sm);
  padding-right: var(--spacing-sm);
  }
}

@media (max-width: 768px) {
  .menu-toggle {
    display: inline-flex;
    align-items: center;
  }

  /* Mobile dropdown nav container */
  .main-nav {
    display: none;
    position: absolute;
    left: 0;
    right: 0;
    top: 100%;
    background: white;
    border-bottom: 1px solid #eee;
    box-shadow: var(--shadow);
    max-height: calc(100vh - 80px);
    overflow-y: auto;
    overflow-x: hidden;
  }

  .main-nav.is-open {
    display: block;
  }

  /* top level becomes vertical */
  .main-nav>ul {
    flex-direction: column;
    gap: 0;
    padding: 10px 0;
    align-items: stretch;
  }

  .main-nav li a {
    display: block;
    padding: 14px 18px;
    border-top: 1px solid #f1f1f1;
    font-size: 1rem;
  }

  /* Mobile: dropdowns become collapsible */
  .main-nav .submenu {
    position: static;
    min-width: unset;
    background: #f8f9fa;
    border: 0;
    box-shadow: none;
    padding: 0;
    margin: 0;
    display: none;
    /* hidden until .open */
    border-left: 3px solid var(--primary-blue);
  }

  .main-nav .submenu li {
    border-top: none;
  }

  .main-nav .submenu a {
    padding-left: 32px;
    font-size: 0.95rem;
    background: #f8f9fa;
  }

  .main-nav .submenu a:hover {
    background: #e9ecef;
  }

  /* Nested submenus (2nd level) */
  .main-nav .submenu .submenu {
    background: #e9ecef;
    border-left: 3px solid var(--accent-yellow);
  }

  .main-nav .submenu .submenu a {
    padding-left: 48px;
    font-size: 0.9rem;
    background: #e9ecef;
  }

  .main-nav .submenu .submenu a:hover {
    background: #dee2e6;
  }

  .main-nav .has-submenu.open>.submenu {
    display: block;
  }

  /* prevent flyout positioning on mobile */
  .main-nav .submenu .submenu {
    left: 0;
    top: 0;
  }

  .hero h1 {
    font-size: 2rem;
  }

  .grid-2,
  .grid-3,
  .grid-4 {
    grid-template-columns: 1fr;
  }

  .section {
    padding: 3rem 0;
  }
}

@media (max-width: 560px) {
  .footer-grid {
    grid-template-columns: 1fr;
    gap: 20px;
    padding: 40px 0;
    padding-left: var(--spacing-sm);
  padding-right: var(--spacing-sm);
  }

  .footer-form {
    grid-template-columns: 1fr;
  }

  .footer-form button {
    width: 100%;
  }

  .footer-bottom-inner {
    flex-direction: column;
    align-items: flex-start;
    padding-left: var(--spacing-sm);
    padding-right: var(--spacing-sm);
  
  }
}